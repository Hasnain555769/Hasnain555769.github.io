<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Grammar & Synonyms Checker — Hasnain</title>
  <meta name="description" content="Simple Grammar checker and Synonyms tool — built for GitHub Pages. Uses LanguageTool and Datamuse APIs to detect grammar issues and suggest synonyms." />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://hasnain555769.github.io/" />
  <style>
    :root{--bg:linear-gradient(to bottom right, #dff4ff, #ffffff);--card:#fff;--accent:#0b5cff}
    body{font-family:Inter, system-ui, -apple-system,Segoe UI, Roboto, "Helvetica Neue", Arial; background:var(--bg);margin:0;scroll-behavior:smooth}
    .wrap{max-width:900px;margin:0 auto;padding:24px}
    header.navbar{position:sticky;top:0;background:rgba(255,255,255,0.9);backdrop-filter:blur(6px);display:flex;justify-content:space-between;align-items:center;padding:12px 24px;box-shadow:0 2px 10px rgba(0,0,0,0.05);z-index:1000}
    header.navbar h1{margin:0;font-size:18px;color:var(--accent)}
    nav a{margin-left:16px;text-decoration:none;color:#333;font-weight:500}
    nav a:hover{color:var(--accent)}
    h1{margin:0;font-size:20px}
    section{padding:40px 20px}
    .card{background:var(--card);padding:16px;border-radius:12px;box-shadow:0 6px 18px rgba(12,16,20,.06)}
    textarea{width:100%;min-height:140px;padding:10px;border:1px solid #e6eef8;border-radius:8px;font-size:15px}
    .controls{display:flex;gap:8px;margin-top:10px;align-items:center;flex-wrap:wrap}
    button{background:var(--accent);color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}
    button.secondary{background:#4a5568}
    .row{display:flex;gap:12px;margin-top:12px;flex-wrap:wrap}
    .col{flex:1;min-width:250px}
    .result{margin-top:12px}
    .issue{padding:10px;border-radius:8px;border:1px dashed #dbeafe;margin-bottom:8px}
    .issue .suggestion{color:#0b5cff;font-weight:600;cursor:pointer}
    .syns{margin-top:8px}
    .note{font-size:13px;color:#555;margin-top:10px}
    footer{margin-top:18px;font-size:13px;color:#444;text-align:center;padding:20px}
    .loader{display:inline-block;width:16px;height:16px;border:2px solid #fff;border-radius:50%;border-left-color:transparent;animation:spin .8s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}
  </style>
</head>
<body>

<!-- Navbar -->
<header class="navbar">
  <h1>Hasnain Tools</h1>
  <nav>
    <a href="#home">Home</a>
    <a href="#about">About</a>
    <a href="#privacy">Privacy</a>
    <a href="#contact">Contact</a>
  </nav>
</header>

<!-- Home Section -->
<section id="home">
  <div class="wrap">
    <header>
      <img src="https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png" alt="logo" width="36" height="36"/>
      <div>
        <h1>Grammar & Synonyms Checker</h1>
        <div style="font-size:13px;color:#666">Built for GitHub Pages • Uses LanguageTool + Datamuse</div>
      </div>
    </header>

    <div class="card">
      <label for="text">Type or paste your text below:</label>
      <textarea id="text" placeholder="Write or paste text here..."></textarea>

      <div class="controls">
        <select id="language">
          <option value="en-US">English (US)</option>
          <option value="en-GB">English (UK)</option>
          <option value="auto">Auto-detect</option>
        </select>
        <button id="checkBtn">Check Grammar</button>
        <button id="synBtn" class="secondary">Get Synonyms (selected word)</button>
        <span id="status" style="margin-left:8px"></span>
      </div>

      <div class="row">
        <div class="col">
          <h3>Grammar Results</h3>
          <div id="results" class="result"></div>
        </div>
        <div class="col">
          <h3>Synonyms</h3>
          <div id="synonyms" class="card" style="min-height:120px;padding:12px"></div>
        </div>
      </div>

      <div class="note">
        Tip: Select any word in the text area and click "Get Synonyms" to fetch alternatives. Click a suggestion in grammar results to replace text.
      </div>
    </div>
  </div>
</section>

<!-- About Section -->
<section id="about">
  <div class="wrap">
    <h2>About</h2>
    <p>This website was created by Hasnain to help users check grammar and find synonyms quickly using LanguageTool and Datamuse APIs.</p>
  </div>
</section>

<!-- Privacy Section -->
<section id="privacy">
  <div class="wrap">
    <h2>Privacy Policy</h2>
    <p>Your text is only sent to the APIs for processing and is not stored by us. We value your privacy.</p>
  </div>
</section>

<!-- Contact Section -->
<section id="contact">
  <div class="wrap">
    <h2>Contact</h2>
    <p>If you have questions or feedback, please contact me at <a href="mailto:your-email@example.com">your-email@example.com</a>.</p>
  </div>
</section>

<footer>
  © 2025 Hasnain. All rights reserved.
</footer>

<script>
  const textEl = document.getElementById('text')
  const checkBtn = document.getElementById('checkBtn')
  const resultsEl = document.getElementById('results')
  const statusEl = document.getElementById('status')
  const synBtn = document.getElementById('synBtn')
  const synonymsEl = document.getElementById('synonyms')
  const languageEl = document.getElementById('language')

  function setStatus(msg, loading=false){
    statusEl.innerHTML = loading ? `<span class="loader"></span> ${msg}` : msg
  }

  async function checkGrammar(){
    const text = textEl.value.trim()
    if(!text){ alert('Please type some text first.'); return }
    resultsEl.innerHTML = ''
    setStatus('Checking...', true)

    try{
      const body = new URLSearchParams({text, language: languageEl.value === 'auto' ? 'auto' : languageEl.value})
      const resp = await fetch('https://api.languagetool.org/v2/check', {
        method: 'POST', headers: {'Content-Type':'application/x-www-form-urlencoded'}, body: body.toString()
      })
      if(!resp.ok){ throw new Error('Languagetool returned '+resp.status) }
      const data = await resp.json()
      renderResults(data)
      setStatus('Done')
    }catch(err){
      console.error(err)
      setStatus('Direct API failed — check console.')
    }
  }

  function renderResults(data){
    if(!data || !data.matches || data.matches.length === 0){ resultsEl.innerHTML = '<div class="issue">No problems found.</div>'; return }
    resultsEl.innerHTML = ''
    data.matches.forEach((m)=>{
      const div = document.createElement('div')
      div.className = 'issue'
      let display = ''
      if(m.context && m.context.text){
        const before = m.context.text.slice(0, m.context.offset)
        const wrong = m.context.text.slice(m.context.offset, m.context.offset + m.context.length)
        const after = m.context.text.slice(m.context.offset + m.context.length)
        display = `${escapeHtml(before)}<strong style="background:#fff3bf">${escapeHtml(wrong)}</strong>${escapeHtml(after)}`
      } else {
        display = escapeHtml(m.message)
      }
      div.innerHTML = `
        <div><strong>Issue:</strong> ${escapeHtml(m.message)}</div>
        <div style="margin-top:6px">${display}</div>
        <div style="margin-top:6px">Suggestions: ${m.replacements && m.replacements.length ? m.replacements.slice(0,6).map(r=>`<span class="suggestion" data-rep="${escapeHtml(r.value)}">${escapeHtml(r.value)}</span>`).join(', ') : '<em>none</em>'}</div>
      `
      div.querySelectorAll('.suggestion').forEach(el=>{
        el.addEventListener('click', ()=> replaceFirstMatch(m, el.getAttribute('data-rep')))
      })
      resultsEl.appendChild(div)
    })
  }

  function replaceFirstMatch(match, replacement){
    let t = textEl.value
    if(match.context && match.context.text){
      const ctxt = match.context.text
      const pos = t.indexOf(ctxt)
      if(pos !== -1){
        const start = pos + match.context.offset
        const before = t.slice(0, start)
        const after = t.slice(start + match.context.length)
        textEl.value = before + replacement + after
        return
      }
    }
    const sub = t.slice(match.offset, match.offset + match.length)
    if(sub){
      textEl.value = t.replace(sub, replacement)
    }
  }

  function escapeHtml(s){ return s.replace(/[&<>\"]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;'}[c] || c)) }

  async function fetchSynonyms(){
    const sel = getSelectedWord()
    if(!sel){ alert('Select a single word in the textarea (double-click) first.') ; return }
    synonymsEl.innerHTML = 'Fetching...'
    try{
      const resp = await fetch(`https://api.datamuse.com/words?rel_syn=${encodeURIComponent(sel)}&max=20`)
      const data = await resp.json()
      if(!data || data.length === 0){ synonymsEl.innerHTML = 'No synonyms found.'; return }
      synonymsEl.innerHTML = data.map(d=>`<button class="chip" style="margin:6px;padding:6px 8px;border-radius:8px;border:1px solid #e6eef8;background:#0b5cff;color:#fff;cursor:pointer" data-word="${escapeHtml(d.word)}">${escapeHtml(d.word)}</button>`).join('')
      synonymsEl.querySelectorAll('button').forEach(b=>b.addEventListener('click', ()=> replaceSelectedWord(b.getAttribute('data-word'))))
    }catch(err){
      console.error(err)
      synonymsEl.innerHTML = 'Error fetching synonyms (see console)'
    }
  }

  function getSelectedWord(){
    const textarea = textEl
    const start = textarea.selectionStart
    const end = textarea.selectionEnd
    if(start === end) return null
    const sel = textarea.value.slice(start, end).trim()
    if(sel.split(/\s+/).length > 1) return null
    return sel
  }

  function replaceSelectedWord(word){
    const textarea = textEl
    const start = textarea.selectionStart
    const end = textarea.selectionEnd
    const before = textarea.value.slice(0, start)
    const after = textarea.value.slice(end)
    textarea.value = before + word + after
  }

  checkBtn.addEventListener('click', checkGrammar)
  synBtn.addEventListener('click', fetchSynonyms)
</script>
</body>
</html>